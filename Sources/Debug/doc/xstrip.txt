
XDS Strip, executable strip utility, Version 0.01 beta
(c) xTech Ltd., 1997
Usage:   xstrip [ ('-'|'/') options ] [ program ]

Options: s [=<debug_info>] strip debug info to file
         a [=<debug_info>] add debug info to program

         <debug_info> is name of file contains debug info

Default: strip debug info  - on
         program extension - '.exe'
         debug info name   - program'.xst'
         

- для удаления отладочной информации:                   
 
A) использование:
   - xstrip program
   - xstrip /s program
  
   результат:
   - отладочная информация поместиться в файл program.xst

B) использование:
   - xstrip /s=dbg_info program

   результат:
   - отладочная информация поместиться в файл dbg_info
   - если ресширения у dbg_info не задано, станет 'xst'


При удалении отладочной информации выдается следующее
(пример использования: xstrip /s=zzz xprof):


XDS Strip, executable strip utility, Version 0.01 beta
(c) xTech Ltd., 1997

Action            strip debug info  - какое действие выполняется
                                    
Executable name   xprof.exe         - имя обрабатываемой программы
           size   11776 (0x2E00)    - будущий размер
                                    
Debug info name   zzz.xst           - имя файла для отладочной информации
           type   NB04              - ее тип (тег)
           size   13251 (0x33C3)    - размер отладочной информации


- для возвращения утраченого:
 
A) использование:
   - xstrip /a=dbg_info
  
   результат:
   - то, что было в dbg_info, приклеится к нужной программе

B) использование:
   - xstrip /a=dbg_info program
  
   результат:
   - то, что было в dbg_info, приклеится к program


При восстановлении отладочной информации выдается следующее
(пример использования: xstrip /a=zzz):

XDS Strip, executable strip utility, Version 0.01 beta
(c) xTech Ltd., 1997

Action            add debug info    - какое действие выполняется

Debug info name   zzz.xst           - имя файла с отладочной информацией
           from   xprof.exe         - от какой программы была "отстрелена"
           type   NB04              - ее тип (тег)
           size   13251 (0x33C3)    - размер отладочной информации

Executable name   xprof.exe         - к какой программе приделана обратно


ЗАМЕЧАНИЯ:

1) Отладочная информация ищется таким образом:
   - программе заглядывается в зад, если там есть что-то похожее на
     формат отладочной информации, пытаемся найти ее начало
   - если в предполагаемом начале есть тот же идентификатор, что и в конце
     программы, считаем, что это и есть начало отладочной информации
   
   Это способ годится для нашего линкера, потому как он всегда пишет
   отладочную информацию в зад программы.

2) Ресурсы не обрабытываются.

3) Header программы расписывается нулями, после приклеивания отладочной
   информации значения в заголовке восстанавливаются.

4) Можно приклеить отладочную информацию обратно несколько раз, просто
   используя несколько раз вызов с параметром /a. Соответственно, если
   ее приклеили несколько раз - ничто не мешает ее отсрелить опять.
   Возможно, это полезно, и вот почему. Собрав программу с отладочной
   информацией типа A, отстрелим ее в файл A. То же самое повторим для
   типов B, C, и т.д. А потом "приклеим" их все к программе. В итоге
   можно использовать тот, тип отладочной информаци, какой нужен в
   данный момент, причем все они содержаться прямо в программе.
   Сделать это легко, достаточно несколько раз напустить xstrip 
   с нужными аргументами в понятно каком порядке.




  



  